{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://FileUploader/webpack/universalModuleDefinition","webpack://FileUploader/./src/sdk/FileUploader.js","webpack://FileUploader/webpack/bootstrap","webpack://FileUploader/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FileUploader\"] = factory();\n\telse\n\t\troot[\"FileUploader\"] = factory();\n})(this, () => {\nreturn ","/**\n * Large File Upload SDK / 大文件上传SDK\n * Supports chunked upload, resumable upload, and instant transfer / 支持分片上传、断点续传和秒传\n */\n\nclass FileUploader {\n  /**\n   * Create a FileUploader instance / 创建一个FileUploader实例\n   * @param {Object} options - Configuration options / 配置选项\n   * @param {string} options.checkEndpoint - API endpoint for checking file status / 检查文件状态的API端点\n   * @param {string} options.chunkEndpoint - API endpoint for uploading chunks / 上传分片的API端点\n   * @param {string} options.mergeEndpoint - API endpoint for merging chunks / 合并分片的API端点\n   * @param {number} options.chunkSize - Size of each chunk in bytes (default: 2MB) / 每个分片的大小（默认：2MB）\n   * @param {number} options.concurrentFiles - Max concurrent file uploads (default: 3) / 最大并发文件上传数（默认：3）\n   * @param {number} options.concurrentChunks - Max concurrent chunk uploads per file (default: 3) / 每个文件的最大并发分片上传数（默认：3）\n   * @param {number} options.maxRetries - Max retry attempts for failed uploads (default: 3) / 上传失败的最大重试次数（默认：3）\n   */\n  constructor(options = {}) {\n    // API endpoints (required) / API端点（必需）\n    this.checkEndpoint = options.checkEndpoint;\n    this.chunkEndpoint = options.chunkEndpoint;\n    this.mergeEndpoint = options.mergeEndpoint;\n    \n    // Validate required endpoints / 验证必需的端点\n    if (!this.checkEndpoint || !this.chunkEndpoint || !this.mergeEndpoint) {\n      throw new Error('All API endpoints (checkEndpoint, chunkEndpoint, mergeEndpoint) must be provided / 所有API端点（checkEndpoint、chunkEndpoint、mergeEndpoint）都必须提供');\n    }\n    \n    // Upload configuration / 上传配置\n    this.chunkSize = options.chunkSize || 2 * 1024 * 1024; // 2MB\n    this.concurrentFiles = options.concurrentFiles || 3;\n    this.concurrentChunks = options.concurrentChunks || 3;\n    this.maxRetries = options.maxRetries || 3;\n    \n    this.uploadQueue = [];\n    this.uploadingCount = 0;\n    this.files = [];\n    \n    // 存储正在进行的请求控制器，用于取消上传\n    this.abortControllers = new Map();\n  }\n\n  /**\n   * Add files to upload queue / 将文件添加到上传队列\n   * @param {FileList|File[]} fileList - Files to upload / 要上传的文件\n   */\n  addFiles(fileList) {\n    const newFiles = Array.from(fileList).map((file) => ({\n      id: this.generateId(),\n      file,\n      status: 'pending', // pending, checking, uploading, merging, success, error, cancelled\n      progress: 0,\n      name: file.name,\n      size: file.size,\n      uploadedChunks: [],\n      totalChunks: Math.ceil(file.size / this.chunkSize),\n    }));\n\n    this.files = [...this.files, ...newFiles];\n    this.uploadQueue = [...this.uploadQueue, ...newFiles];\n    \n    this.processQueue();\n    \n    return newFiles;\n  }\n\n  /**\n   * Cancel file upload / 取消文件上传\n   * @param {string} fileId - ID of the file to cancel / 要取消的文件ID\n   */\n  cancelUpload(fileId) {\n    const fileItem = this.files.find(item => item.id === fileId);\n    if (!fileItem) {\n      console.warn(`File with ID ${fileId} not found`);\n      return;\n    }\n\n    // 如果文件正在上传队列中，直接移除\n    if (fileItem.status === 'pending') {\n      this.uploadQueue = this.uploadQueue.filter(item => item.id !== fileId);\n      fileItem.status = 'cancelled';\n      this.updateFileStatus(fileItem);\n      return;\n    }\n\n    // 如果文件正在上传过程中，取消所有相关请求\n    if (fileItem.status === 'checking' || fileItem.status === 'uploading' || fileItem.status === 'merging') {\n      // 取消所有与该文件相关的请求\n      const abortController = this.abortControllers.get(fileId);\n      if (abortController) {\n        abortController.abort();\n        this.abortControllers.delete(fileId);\n      }\n      \n      fileItem.status = 'cancelled';\n      this.updateFileStatus(fileItem);\n      return;\n    }\n  }\n\n  /**\n   * Process upload queue / 处理上传队列\n   */\n  processQueue() {\n    while (this.uploadQueue.length > 0 && this.uploadingCount < this.concurrentFiles) {\n      const fileItem = this.uploadQueue.shift();\n      if (fileItem) {\n        this.uploadingCount++;\n        this.processFile(fileItem).finally(() => {\n          this.uploadingCount--;\n          this.processQueue();\n        });\n      }\n    }\n  }\n\n  /**\n   * Process individual file / 处理单个文件\n   * @param {Object} fileItem - File item to process / 要处理的文件项\n   */\n  async processFile(fileItem) {\n    // 为每个文件创建 AbortController\n    const abortController = new AbortController();\n    this.abortControllers.set(fileItem.id, abortController);\n    \n    try {\n      fileItem.status = 'checking';\n      this.updateFileStatus(fileItem);\n\n      // Calculate file MD5 / 计算文件MD5\n      const md5 = await this.calculateMD5(fileItem.file);\n      fileItem.md5 = md5;\n\n      // Check with server if file already exists or has partial uploads / 检查服务器上是否已存在文件或有部分上传\n      const checkResult = await this.checkFile(fileItem.md5, fileItem.file.name, abortController.signal);\n\n      if (checkResult.exists) {\n        // Instant transfer - file already exists / 秒传 - 文件已存在\n        fileItem.status = 'success';\n        fileItem.progress = 100;\n        this.updateFileStatus(fileItem);\n        this.abortControllers.delete(fileItem.id);\n        return;\n      }\n\n      // Identify chunks that still need to be uploaded / 识别仍需上传的分片\n      const chunksToUpload = Array.from({ length: fileItem.totalChunks }, (_, i) => i)\n        .filter(i => !checkResult.uploadedChunks.includes(i));\n\n      fileItem.uploadedChunks = checkResult.uploadedChunks;\n\n      if (chunksToUpload.length === 0) {\n        // All chunks already uploaded, just merge / 所有分片已上传，只需合并\n        await this.mergeFile(fileItem.md5, fileItem.file.name, fileItem.totalChunks, abortController.signal);\n        fileItem.status = 'success';\n        fileItem.progress = 100;\n        this.updateFileStatus(fileItem);\n        this.abortControllers.delete(fileItem.id);\n        return;\n      }\n\n      // Upload remaining chunks / 上传剩余分片\n      fileItem.status = 'uploading';\n      this.updateFileStatus(fileItem);\n      \n      await this.uploadChunksWithConcurrency(\n        fileItem,\n        chunksToUpload,\n        abortController.signal\n      );\n\n      // Merge chunks into final file / 将分片合并为最终文件\n      fileItem.status = 'merging';\n      this.updateFileStatus(fileItem);\n      \n      await this.mergeFile(fileItem.md5, fileItem.file.name, fileItem.totalChunks, abortController.signal);\n      \n      fileItem.status = 'success';\n      fileItem.progress = 100;\n      this.updateFileStatus(fileItem);\n      this.abortControllers.delete(fileItem.id);\n    } catch (error) {\n      // 检查是否是由于取消上传导致的错误\n      if (error.name === 'AbortError') {\n        fileItem.status = 'cancelled';\n        this.updateFileStatus(fileItem);\n      } else {\n        fileItem.status = 'error';\n        fileItem.error = error.message;\n        this.updateFileStatus(fileItem);\n        console.error('Upload error:', error);\n      }\n      this.abortControllers.delete(fileItem.id);\n    }\n  }\n\n  /**\n   * Upload chunks with concurrency control / 并发控制上传分片\n   * @param {Object} fileItem - File item being uploaded / 正在上传的文件项\n   * @param {number[]} chunksToUpload - Indices of chunks to upload / 要上传的分片索引\n   * @param {AbortSignal} signal - Abort signal for cancellation / 用于取消的信号\n   */\n  async uploadChunksWithConcurrency(fileItem, chunksToUpload, signal) {\n    let index = 0;\n\n    const uploadChunk = async (chunkIndex) => {\n      // 检查是否已经取消\n      if (signal.aborted) {\n        throw new DOMException('Aborted', 'AbortError');\n      }\n      \n      const start = chunkIndex * this.chunkSize;\n      const end = Math.min(start + this.chunkSize, fileItem.file.size);\n      const chunk = fileItem.file.slice(start, end);\n\n      const formData = new FormData();\n      formData.append('file', chunk);\n      formData.append('md5', fileItem.md5);\n      formData.append('chunkIndex', chunkIndex.toString());\n      formData.append('totalChunks', fileItem.totalChunks.toString());\n\n      await this.uploadWithRetry((signal) => {\n        return fetch(this.chunkEndpoint, {\n          method: 'POST',\n          body: formData,\n          signal: signal\n        });\n      }, this.maxRetries, signal);\n\n      // Update progress / 更新进度\n      fileItem.uploadedChunks.push(chunkIndex);\n      const progress = Math.round((fileItem.uploadedChunks.length / fileItem.totalChunks) * 100);\n      fileItem.progress = progress;\n      this.updateFileStatus(fileItem);\n    };\n\n    const workers = Array.from({ length: this.concurrentChunks }, async () => {\n      while (index < chunksToUpload.length && !signal.aborted) {\n        const chunkIndex = chunksToUpload[index];\n        index++;\n        await uploadChunk(chunkIndex);\n      }\n    });\n\n    await Promise.all(workers);\n    \n    // 如果被取消，抛出异常\n    if (signal.aborted) {\n      throw new DOMException('Aborted', 'AbortError');\n    }\n  }\n\n  /**\n   * Check file status with server / 检查文件状态\n   * @param {string} md5 - File MD5 hash / 文件MD5哈希值\n   * @param {string} filename - Original filename / 原始文件名\n   * @param {AbortSignal} signal - Abort signal for cancellation / 用于取消的信号\n   * @returns {Promise<Object>} - Server response / 服务器响应\n   */\n  async checkFile(md5, filename, signal) {\n    const response = await fetch(this.checkEndpoint, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ md5, filename }),\n      signal: signal\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  /**\n   * Request server to merge chunks / 请求服务器合并分片\n   * @param {string} md5 - File MD5 hash / 文件MD5哈希值\n   * @param {string} filename - Original filename / 原始文件名\n   * @param {number} totalChunks - Total number of chunks / 分片总数\n   * @param {AbortSignal} signal - Abort signal for cancellation / 用于取消的信号\n   * @returns {Promise<Object>} - Server response / 服务器响应\n   */\n  async mergeFile(md5, filename, totalChunks, signal) {\n    const response = await fetch(this.mergeEndpoint, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ md5, filename, totalChunks }),\n      signal: signal\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  /**\n   * Upload with retry mechanism / 带重试机制的上传\n   * @param {Function} fn - Function to execute / 要执行的函数\n   * @param {number} maxRetries - Maximum retry attempts / 最大重试次数\n   * @param {AbortSignal} signal - Abort signal for cancellation / 用于取消的信号\n   * @returns {Promise<any>} - Result of function execution / 函数执行结果\n   */\n  async uploadWithRetry(fn, maxRetries, signal) {\n    let lastError;\n\n    for (let i = 0; i <= maxRetries; i++) {\n      // 检查是否已经取消\n      if (signal.aborted) {\n        throw new DOMException('Aborted', 'AbortError');\n      }\n      \n      try {\n        const response = await fn(signal);\n        // 检查响应是否成功\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response;\n      } catch (error) {\n        // 如果是取消操作导致的错误，立即抛出\n        if (error.name === 'AbortError') {\n          throw error;\n        }\n        \n        lastError = error;\n\n        if (i < maxRetries) {\n          // Exponential backoff delay / 指数退避延迟\n          const delay = Math.min(1000 * Math.pow(2, i), 10000);\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n    }\n\n    throw lastError;\n  }\n\n  /**\n   * Calculate MD5 of file using Web Worker / 使用Web Worker计算文件MD5\n   * @param {File} file - File to calculate MD5 for / 要计算MD5的文件\n   * @returns {Promise<string>} - MD5 hash / MD5哈希值\n   */\n  async calculateMD5(file) {\n    // Check if Web Workers are supported / 检查是否支持Web Workers\n    if (typeof Worker !== 'undefined') {\n      return new Promise((resolve, reject) => {\n        try {\n          // Create Web Worker code / 创建Web Worker代码\n          const workerCode = `\n            self.onmessage = function(event) {\n              const { file, chunkSize = 2 * 1024 * 1024 } = event.data;\n              \n              try {\n                // Dynamically import SparkMD5 / 动态导入SparkMD5\n                importScripts('https://cdn.jsdelivr.net/npm/spark-md5@3.0.2/spark-md5.min.js');\n                \n                const spark = new SparkMD5.ArrayBuffer();\n                let currentChunk = 0;\n                const totalChunks = Math.ceil(file.size / chunkSize);\n\n                function loadNextChunk() {\n                  const start = currentChunk * chunkSize;\n                  const end = Math.min(start + chunkSize, file.size);\n                  const chunk = file.slice(start, end);\n                  \n                  const reader = new FileReader();\n                  reader.onload = function(e) {\n                    spark.append(e.target.result);\n                    currentChunk++;\n                    \n                    // Send progress update / 发送进度更新\n                    const progress = Math.round((currentChunk / totalChunks) * 100);\n                    self.postMessage({ progress, type: 'progress' });\n                    \n                    if (currentChunk < totalChunks) {\n                      loadNextChunk();\n                    } else {\n                      const md5 = spark.end();\n                      self.postMessage({ md5, success: true });\n                    }\n                  };\n                  \n                  reader.onerror = function(err) {\n                    self.postMessage({ error: 'Failed to read file chunk: ' + err.message, success: false });\n                  };\n                  \n                  reader.readAsArrayBuffer(chunk);\n                }\n                \n                loadNextChunk();\n              } catch (error) {\n                self.postMessage({ error: 'Worker error: ' + error.message, success: false });\n              }\n            };\n          `;\n          \n          // Create Blob URL / 创建Blob URL\n          const blob = new Blob([workerCode], { type: 'application/javascript' });\n          const workerUrl = URL.createObjectURL(blob);\n          \n          // Create Web Worker / 创建Web Worker\n          const worker = new Worker(workerUrl);\n          \n          // Send file to Worker / 发送文件到Worker\n          worker.postMessage({\n            file: file,\n            chunkSize: this.chunkSize\n          });\n          \n          // Listen for Worker messages / 监听Worker消息\n          worker.onmessage = function(event) {\n            const data = event.data;\n            \n            if (data.type === 'progress') {\n              // Handle progress updates / 处理进度更新\n              console.log('MD5 calculation progress: ' + data.progress + '%');\n            } else if (data.success) {\n              // MD5 calculation complete / MD5计算完成\n              URL.revokeObjectURL(workerUrl); // Release resources / 释放资源\n              resolve(data.md5);\n              worker.terminate(); // Terminate Worker / 终止Worker\n            } else {\n              // MD5 calculation error / MD5计算错误\n              URL.revokeObjectURL(workerUrl); // Release resources / 释放资源\n              reject(new Error(data.error));\n              worker.terminate(); // Terminate Worker / 终止Worker\n            }\n          };\n          \n          // Handle Worker errors / 处理Worker错误\n          worker.onerror = function(error) {\n            URL.revokeObjectURL(workerUrl); // Release resources / 释放资源\n            reject(new Error('Worker error: ' + error.message));\n            worker.terminate(); // Terminate Worker / 终止Worker\n          };\n        } catch (error) {\n          // Fallback to main thread if Web Workers initialization fails / 如果Web Workers初始化失败则回退到主线程\n          console.warn('Failed to initialize Web Worker, falling back to main thread calculation / 无法初始化Web Worker，回退到主线程计算');\n          this.calculateMD5Fallback(file).then(resolve).catch(reject);\n        }\n      });\n    } else {\n      // Fallback to main thread if Web Workers are not supported / 如果不支持Web Workers则回退到主线程\n      console.warn('Web Workers not supported, falling back to main thread calculation / 不支持Web Workers，回退到主线程计算');\n      return this.calculateMD5Fallback(file);\n    }\n  }\n\n  /**\n   * Fallback MD5 calculation on main thread / 在主线程中回退的MD5计算\n   * @param {File} file - File to calculate MD5 for / 要计算MD5的文件\n   * @returns {Promise<string>} - MD5 hash / MD5哈希值\n   */\n  async calculateMD5Fallback(file) {\n    // Simulate MD5 calculation on main thread / 在主线程中模拟MD5计算\n    return new Promise((resolve) => {\n      // Simulate calculation time / 模拟计算时间\n      setTimeout(() => {\n        // Simplified MD5 simulation / 简化的MD5模拟\n        resolve('md5-' + Date.now() + '-' + file.name);\n      }, 300);\n    });\n  }\n\n  /**\n   * Generate unique ID / 生成唯一ID\n   * @returns {string} - Unique ID / 唯一ID\n   */\n  generateId() {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\n  }\n\n  /**\n   * Update file status callback / 更新文件状态回调\n   * Override this method to handle UI updates / 重写此方法以处理UI更新\n   * @param {Object} fileItem - Updated file item / 更新的文件项\n   */\n  updateFileStatus(fileItem) {\n    // This method should be overridden by the user / 此方法应由用户重写\n    console.log(`File ${fileItem.name}: ${fileItem.status} (${fileItem.progress}%)`);\n  }\n\n  /**\n   * Get current files / 获取当前文件\n   * @returns {Array} - Current files / 当前文件\n   */\n  getFiles() {\n    return this.files;\n  }\n  \n  /**\n   * Clean up resources / 清理资源\n   */\n  destroy() {\n    // 取消所有正在进行的上传\n    for (const [fileId, controller] of this.abortControllers.entries()) {\n      controller.abort();\n    }\n    this.abortControllers.clear();\n    this.uploadQueue = [];\n    this.files = [];\n  }\n}\n\n// Export for both CommonJS and AMD / 为CommonJS和AMD导出\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = FileUploader;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() {\n    return FileUploader;\n  });\n} else {\n  // Export to global scope / 导出到全局作用域\n  window.FileUploader = FileUploader;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(69);\n"],"names":["root","factory","exports","module","define","amd","this","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_toConsumableArray","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","toString","slice","constructor","name","test","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","_toPrimitive","FileUploader","options","undefined","_classCallCheck","checkEndpoint","chunkEndpoint","mergeEndpoint","Error","chunkSize","concurrentFiles","concurrentChunks","maxRetries","uploadQueue","uploadingCount","files","abortControllers","Map","fileList","_this","newFiles","map","file","id","generateId","status","progress","size","uploadedChunks","totalChunks","Math","ceil","concat","processQueue","fileId","fileItem","find","item","filter","updateFileStatus","abortController","get","abort","console","warn","_this2","shift","processFile","_processFile","_callee","md5","checkResult","chunksToUpload","_t","_context","AbortController","set","calculateMD5","checkFile","signal","exists","_","includes","mergeFile","uploadChunksWithConcurrency","error","message","_x","_uploadChunksWithConcurrency","_callee4","index","uploadChunk","workers","_this3","_context4","_ref","_callee2","chunkIndex","start","end","chunk","formData","_context2","aborted","DOMException","min","FormData","append","uploadWithRetry","fetch","method","body","push","round","_x5","_callee3","_context3","all","_x2","_x3","_x4","_checkFile","_callee5","filename","response","_context5","headers","JSON","stringify","ok","json","_x6","_x7","_x8","_mergeFile","_callee6","_context6","_x9","_x0","_x1","_x10","_uploadWithRetry","_callee7","fn","lastError","_loop","_ret","_context8","delay","_t2","_context7","pow","setTimeout","_regeneratorValues","_x11","_x12","_x13","_calculateMD","_callee8","_this4","_context9","Worker","reject","blob","Blob","type","workerUrl","URL","createObjectURL","worker","postMessage","onmessage","event","data","log","success","revokeObjectURL","terminate","onerror","calculateMD5Fallback","_x14","_calculateMD5Fallback","_callee9","_context0","Date","now","_x15","random","substr","_step","_iterator","_createForOfIteratorHelper","entries","s","_step$value","_slicedToArray","err","clear","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"ignoreList":[],"sourceRoot":""}